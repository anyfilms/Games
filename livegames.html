<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Drama TV</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial,sans-serif}
body{background:#0f0f0f;color:#fff}

/* HEADER */
.header{
 position:fixed;top:0;width:100%;
 display:flex;align-items:center;
 background:#0f0f0f;
 padding:12px;border-bottom:1px solid #222;
 z-index:1000
}
.menu-btn{font-size:24px;background:none;border:none;color:#fff;margin-right:12px;cursor:pointer}
.logo{font-size:22px;font-weight:bold;cursor:pointer}
.logo span{color:#ff0000}
.refresh-btn{
 font-size:20px;background:none;border:none;
 color:#fff;margin-left:auto;cursor:pointer
}

/* CHANNEL POPUP */
#channelPopup{
 position:fixed;top:0;left:-100%;
 width:100%;height:100%;
 background:#0f0f0f;
 z-index:2000;
 transition:.3s;
 overflow-y:auto
}
#channelPopup.active{left:0}
.popup-header{
 display:flex;align-items:center;
 padding:15px;border-bottom:1px solid #222
}
.popup-header button{
 font-size:22px;background:none;border:none;color:#fff;margin-right:10px;cursor:pointer
}
.channel-item{
 display:flex;align-items:center;
 padding:15px;border-bottom:1px solid #222;
 cursor:pointer
}
.channel-item img{
 width:45px;height:45px;border-radius:50%;
 margin-right:15px
}

/* MAIN CONTAINER - ‡§∞‡§ø‡§∏‡•ç‡§™‡•â‡§®‡•ç‡§∏‡§ø‡§µ ‡§ï‡•á ‡§≤‡§ø‡§è */
.main-container {
 margin-top: 70px;
 padding: 10px;
}

/* VIDEO FEED - ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§î‡§∞ ‡§°‡•á‡§∏‡•ç‡§ï‡§ü‡•â‡§™ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§≤‡§ó-‡§Ö‡§≤‡§ó ‡§ó‡•ç‡§∞‡§ø‡§° */
.video-feed {
 display: grid;
 grid-template-columns: 1fr; /* ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§ï‡•á ‡§≤‡§ø‡§è 1 ‡§ï‡•â‡§≤‡§Æ */
 gap: 20px;
}

/* MOBILE (‡§°‡§ø‡§´‡•â‡§≤‡•ç‡§ü) - 1 ‡§ï‡•â‡§≤‡§Æ */
@media (max-width: 767px) {
 .video-feed {
  grid-template-columns: 1fr;
  padding: 10px;
 }
 
 .main-container {
  padding: 10px;
 }
}

/* TABLET (768px ‡§∏‡•á 1023px) - 2-3 ‡§ï‡•â‡§≤‡§Æ */
@media (min-width: 768px) and (max-width: 1023px) {
 .video-feed {
  grid-template-columns: repeat(2, 1fr);
  gap: 15px;
  max-width: 100%;
  padding: 15px;
 }
 
 .main-container {
  padding: 15px;
  max-width: 100%;
 }
}

/* DESKTOP (1024px ‡§∏‡•á 1365px) - 4 ‡§ï‡•â‡§≤‡§Æ */
@media (min-width: 1024px) and (max-width: 1365px) {
 .video-feed {
  grid-template-columns: repeat(4, 1fr);
  gap: 20px;
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
 }
 
 .main-container {
  padding: 20px;
  max-width: 1200px;
  margin: 0 auto;
 }
}

/* LARGE DESKTOP (1366px ‡§î‡§∞ ‡§ä‡§™‡§∞) - 5-6 ‡§ï‡•â‡§≤‡§Æ */
@media (min-width: 1366px) {
 .video-feed {
  grid-template-columns: repeat(5, 1fr);
  gap: 25px;
  max-width: 1400px;
  margin: 0 auto;
  padding: 25px;
 }
 
 .main-container {
  padding: 25px;
  max-width: 1400px;
  margin: 0 auto;
 }
}

/* VIDEO CARD */
.video-card {
 background-color: #1a1a1a;
 border-radius: 8px;
 overflow: hidden;
 transition: transform 0.2s, box-shadow 0.2s;
 cursor: pointer;
}

.video-card:hover {
 transform: translateY(-5px);
 box-shadow: 0 10px 20px rgba(0,0,0,0.3);
}

.thumbnail {
 width:100%;
 aspect-ratio:16/9;
 object-fit: contain;
 border-radius: 12px 12px 0 0;
}

/* INFO */
.info{
 display:flex;
 margin-top:10px;
 padding: 12px;
}
.channel-icon{
 width:40px;height:40px;
 border-radius:50%;
 margin-right:10px;
 flex-shrink: 0;
}
.text{flex:1}
.title{
 font-size:15px;font-weight:500;
 display:-webkit-box;
 -webkit-line-clamp:2;
 -webkit-box-orient:vertical;
 overflow:hidden;
 line-height:1.3;
 min-height: 2.6em;
}
.meta{
 font-size:12px;
 color:#aaa;
 margin-top:4px;
}

/* PLAYER */
#player{
 position:fixed;
 inset:0;
 background:#000;
 display:none;
 flex-direction:column;
 z-index:3000
}
.player-header{
 display:flex;
 align-items:center;
 padding:12px;
 background:#000;
}
.back-btn{
 font-size:24px;
 background:none;
 border:none;
 color:#fff;
 margin-right:10px;
 cursor:pointer;
}
video{
 width:100%;
 max-height:55vh;
}
.actions{
 display:flex;
 justify-content:space-around;
 padding:10px;
 border-top:1px solid #222;
}
.actions button{
 background:none;
 border:none;
 color:#fff;
 cursor:pointer;
}

/* COMMENTS */
.comments{
 padding:10px;
 border-top:1px solid #222;
}
.comments input{
 width:100%;
 padding:10px;
 background:#222;
 border:none;
 color:#fff;
 border-radius:6px;
}
.comment{
 font-size:13px;
 margin-top:8px;
 color:#ccc;
}

/* DESKTOP ‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡•á‡§°‡§∞ ‡§∏‡•Å‡§ß‡§æ‡§∞ */
@media (min-width: 1024px) {
 .header {
  padding: 12px 40px;
 }
 
 .menu-btn {
  font-size: 20px;
 }
 
 .logo {
  font-size: 24px;
 }
 
 .refresh-btn {
  font-size: 18px;
 }
}

/* DESKTOP ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•ç‡§≤‡•á‡§Ø‡§∞ ‡§∏‡•Å‡§ß‡§æ‡§∞ */
@media (min-width: 1024px) {
 video {
  max-height: 70vh;
 }
 
 #player {
  padding: 20px;
  box-sizing: border-box;
 }
 
 .player-header {
  padding: 20px;
 }
 
 .actions, .comments {
  padding: 20px;
 }
}

/* CHANNEL POPUP ‡§°‡•á‡§∏‡•ç‡§ï‡§ü‡•â‡§™ ‡§ï‡•á ‡§≤‡§ø‡§è */
@media (min-width: 768px) {
 #channelPopup {
  width: 350px;
  left: -350px;
 }
 
 #channelPopup.active {
  left: 0;
 }
}

/* LOADING */
.loading {
 text-align: center;
 padding: 40px;
 color: #aaa;
 font-size: 18px;
 display: none;
}

.loading.active {
 display: block;
}

/* DESKTOP ‡§ï‡•á ‡§≤‡§ø‡§è ‡§•‡§Ç‡§¨‡§®‡•á‡§≤ ‡§ï‡•ç‡§µ‡§æ‡§≤‡§ø‡§ü‡•Ä */
@media (min-width: 1024px) {
 .thumbnail {
  height: 180px;
 }
}
</style>
</head>

<body>

<header class="header">
<button class="menu-btn" onclick="openChannels()">‚ò∞</button>
<div class="logo" onclick="showAll()">Drama <span>TV</span></div>
<button class="refresh-btn" onclick="refreshHome()">‚Üª</button>
</header>

<!-- CHANNEL POPUP -->
<div id="channelPopup">
 <div class="popup-header">
  <button onclick="closeChannels()">‚Üê</button>
  <div>All Channels</div>
 </div>
 <div id="channelList"></div>
</div>

<!-- MAIN CONTENT -->
<div class="main-container">
 <div class="video-feed" id="feed"></div>
 <div class="loading" id="loading">Loading videos...</div>
</div>

<!-- PLAYER -->
<div id="player">
 <div class="player-header">
  <button class="back-btn" onclick="closePlayer()">‚Üê</button>
  <div id="playerTitle"></div>
 </div>

 <video id="video"
  controls autoplay playsinline
  controlsList="nodownload"
  disablePictureInPicture
  oncontextmenu="return false">
 </video>

 <div class="actions">
  <button onclick="like()">üëç <span id="likes">0</span></button>
  <div>üëÅ <span id="views">0</span></div>
 </div>

 <div class="comments">
  <input placeholder="Add a comment‚Ä¶" onkeydown="addComment(event)">
  <div id="commentList"></div>
 </div>
</div>

<script>
// ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§°‡•á‡§ü‡§æ - 10 ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã
const videos = [
 
 {
  id: 6,
  title: "‡§Ö‡§®‡§™‡§∏‡§Ç‡§¶ ‡§¨‡•á‡§ü‡•Ä ‡§Æ‡•á‡§Ç ‡§™‡•Å‡§®‡§∞‡•ç‡§ú‡§®‡•ç‡§Æ ‡§≤‡§ø‡§Ø‡§æ, ‡§¶‡•Å‡§∑‡•ç‡§ü ‡§™‡§ø‡§§‡§æ ‡§µ ‡§™‡§æ‡§≤‡§§‡•Ç ‡§¨‡•á‡§ü‡•Ä ‡§ï‡•ã ‡§â‡§ú‡§æ‡§ó‡§∞ ‡§ï‡§ø‡§Ø‡§æ",
  videoUrl: "https://huggingface.co/datasets/shortdramatv/chinesedramavideo/resolve/main/6.mp4",
  thumbnail: "https://huggingface.co/datasets/shortdramatv/chinesedramaimage/resolve/main/6.jpg",
  channel: "Drama TV Official",
  icon: "https://images.unsplash.com/photo-1593085512500-5d55148d6f0d?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",
 },
 {
  id: 5,
  title: "‡§Ö‡§®‡§™‡§∏‡§Ç‡§¶ ‡§¨‡•á‡§ü‡•Ä ‡§Æ‡•á‡§Ç ‡§™‡•Å‡§®‡§∞‡•ç‡§ú‡§®‡•ç‡§Æ ‡§≤‡§ø‡§Ø‡§æ, ‡§¶‡•Å‡§∑‡•ç‡§ü ‡§™‡§ø‡§§‡§æ ‡§µ ‡§™‡§æ‡§≤‡§§‡•Ç ‡§¨‡•á‡§ü‡•Ä ‡§ï‡•ã ‡§â‡§ú‡§æ‡§ó‡§∞ ‡§ï‡§ø‡§Ø‡§æ",
  videoUrl: "https://huggingface.co/datasets/shortdramatv/chinesedramavideo/resolve/main/5.mp4",
  thumbnail: "https://huggingface.co/datasets/shortdramatv/chinesedramaimage/resolve/main/5.jpg",
  channel: "Drama TV Official",
  icon: "https://images.unsplash.com/photo-1593085512500-5d55148d6f0d?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",
 },
 {
  id: 4,
  title: "‡§Ö‡§®‡§™‡§∏‡§Ç‡§¶ ‡§¨‡•á‡§ü‡•Ä ‡§Æ‡•á‡§Ç ‡§™‡•Å‡§®‡§∞‡•ç‡§ú‡§®‡•ç‡§Æ ‡§≤‡§ø‡§Ø‡§æ, ‡§¶‡•Å‡§∑‡•ç‡§ü ‡§™‡§ø‡§§‡§æ ‡§µ ‡§™‡§æ‡§≤‡§§‡•Ç ‡§¨‡•á‡§ü‡•Ä ‡§ï‡•ã ‡§â‡§ú‡§æ‡§ó‡§∞ ‡§ï‡§ø‡§Ø‡§æ",
  videoUrl: "https://huggingface.co/datasets/shortdramatv/chinesedramavideo/resolve/main/4.mp4",
  thumbnail: "https://huggingface.co/datasets/shortdramatv/chinesedramaimage/resolve/main/4.jpg",
  channel: "Drama TV Official",
  icon: "https://images.unsplash.com/photo-1593085512500-5d55148d6f0d?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",
 },
 {
  id: 7,
  title: "‡§Ö‡§®‡§™‡§∏‡§Ç‡§¶ ‡§¨‡•á‡§ü‡•Ä ‡§Æ‡•á‡§Ç ‡§™‡•Å‡§®‡§∞‡•ç‡§ú‡§®‡•ç‡§Æ ‡§≤‡§ø‡§Ø‡§æ, ‡§¶‡•Å‡§∑‡•ç‡§ü ‡§™‡§ø‡§§‡§æ ‡§µ ‡§™‡§æ‡§≤‡§§‡•Ç ‡§¨‡•á‡§ü‡•Ä ‡§ï‡•ã ‡§â‡§ú‡§æ‡§ó‡§∞ ‡§ï‡§ø‡§Ø‡§æ",
  videoUrl: "https://huggingface.co/datasets/shortdramatv/chinesedramavideo/resolve/main/3.mp4",
  thumbnail: "https://huggingface.co/datasets/shortdramatv/chinesedramaimage/resolve/main/3.jpg",
  channel: "Drama TV Official",
  icon: "https://images.unsplash.com/photo-1593085512500-5d55148d6f0d?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",
 },
 {
  id: 2,
  title: "‡§Ö‡§®‡§™‡§∏‡§Ç‡§¶ ‡§¨‡•á‡§ü‡•Ä ‡§Æ‡•á‡§Ç ‡§™‡•Å‡§®‡§∞‡•ç‡§ú‡§®‡•ç‡§Æ ‡§≤‡§ø‡§Ø‡§æ, ‡§¶‡•Å‡§∑‡•ç‡§ü ‡§™‡§ø‡§§‡§æ ‡§µ ‡§™‡§æ‡§≤‡§§‡•Ç ‡§¨‡•á‡§ü‡•Ä ‡§ï‡•ã ‡§â‡§ú‡§æ‡§ó‡§∞ ‡§ï‡§ø‡§Ø‡§æ",
  videoUrl: "https://huggingface.co/datasets/shortdramatv/chinesedramavideo/resolve/main/2.mp4",
  thumbnail: "https://huggingface.co/datasets/shortdramatv/chinesedramaimage/resolve/main/2.jpg",
  channel: "Drama TV Official",
  icon: "https://images.unsplash.com/photo-1593085512500-5d55148d6f0d?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",
 },
 {
  id: 8,
  title: "Hugging Face ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã - ‡§è‡§™‡§ø‡§∏‡•ã‡§° 1",
  videoUrl: "https://huggingface.co/datasets/shortdramatv/chinesedramavideo/resolve/main/1.mp4",
  thumbnail: "https://huggingface.co/datasets/shortdramatv/chinesedramaimage/resolve/main/1.jpg",
  channel: "Action Drama",
  icon: "https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",
 },
];

const feed = document.getElementById("feed");
const player = document.getElementById("player");
const videoEl = document.getElementById("video");
const viewsEl = document.getElementById("views");
const likesEl = document.getElementById("likes");
const commentList = document.getElementById("commentList");
const loading = document.getElementById("loading");
let current = null;

// ‡§Ø‡§π ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡•á‡§ó‡§æ ‡§ï‡§ø ‡§µ‡•ç‡§Ø‡•Ç ‡§ï‡§æ‡§â‡§Ç‡§ü ‡§ï‡•á‡§µ‡§≤ ‡§è‡§ï ‡§¨‡§æ‡§∞ ‡§¨‡§¢‡§º‡•á
let hasViewed = {};

/* STORAGE */
function store(id) {
 return JSON.parse(localStorage.getItem("v_" + id)) || {views: 0, likes: 0, comments: []};
}

function save(id, data) {
 localStorage.setItem("v_" + id, JSON.stringify(data));
}

/* RENDER - ‡§°‡•Å‡§™‡•ç‡§≤‡•Ä‡§ï‡•á‡§ü ‡§†‡•Ä‡§ï ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è */
let isRendering = false;
let currentVideoList = videos; // ‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§Æ‡•á‡§Ç ‡§¶‡§ø‡§ñ‡§æ‡§à ‡§ú‡§æ‡§®‡•á ‡§µ‡§æ‡§≤‡•Ä ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§≤‡§ø‡§∏‡•ç‡§ü

function render(list = videos) {
 if (isRendering) return;
 isRendering = true;
 
 // ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç ‡§ï‡§ø list ‡§è‡§ï array ‡§π‡•à ‡§î‡§∞ duplicate ID ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡§Ç
 const uniqueVideos = [];
 const seenIds = new Set();
 
 for (const video of list) {
  if (!seenIds.has(video.id)) {
   seenIds.add(video.id);
   uniqueVideos.push(video);
  }
 }
 
 // ‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§≤‡§ø‡§∏‡•ç‡§ü ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç
 currentVideoList = uniqueVideos;
 
 feed.innerHTML = "";
 
 // ‡§≤‡•ã‡§°‡§ø‡§Ç‡§ó ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Ç
 loading.classList.add('active');
 
 // ‡§•‡•ã‡§°‡§º‡•Ä ‡§¶‡•á‡§∞ ‡§¨‡§æ‡§¶ ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Ç
 setTimeout(() => {
  uniqueVideos.forEach(v => {
   const s = store(v.id);
   const div = document.createElement("div");
   div.className = "video-card";
   
   div.innerHTML = `
    <img src="${v.thumbnail}" class="thumbnail" onclick="openVideo(${v.id})">
    <div class="info">
     <img src="${v.icon}" class="channel-icon">
     <div class="text">
      <div class="title">${v.title}</div>
      <div class="meta">${v.channel} ‚Ä¢ ${s.views} views</div>
     </div>
    </div>`;
   
   feed.appendChild(div);
  });
  
  // ‡§≤‡•ã‡§°‡§ø‡§Ç‡§ó ‡§õ‡§ø‡§™‡§æ‡§è‡§Ç
  loading.classList.remove('active');
  isRendering = false;
 }, 500);
}

/* PLAYER - ‡§µ‡•ç‡§Ø‡•Ç ‡§ï‡§æ‡§â‡§Ç‡§ü ‡§ï‡•á‡§µ‡§≤ ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§™‡•ç‡§≤‡•á ‡§π‡•ã‡§®‡•á ‡§™‡§∞ ‡§¨‡§¢‡§º‡•á */
function openVideo(id) {
 current = videos.find(v => v.id === id);
 let s = store(current.id);
 
 // ‡§µ‡•ç‡§Ø‡•Ç ‡§ï‡§æ‡§â‡§Ç‡§ü ‡§°‡§ø‡§∏‡•ç‡§™‡•ç‡§≤‡•á ‡§ï‡§∞‡•á‡§Ç (‡§Ö‡§≠‡•Ä ‡§® ‡§¨‡§¢‡§º‡§æ‡§è‡§Ç)
 viewsEl.innerText = s.views;
 likesEl.innerText = s.likes;
 document.getElementById("playerTitle").innerText = current.title;
 videoEl.src = current.videoUrl;
 
 // ‡§µ‡•ç‡§Ø‡•Ç ‡§ï‡§æ‡§â‡§Ç‡§ü ‡§¨‡§¢‡§º‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§á‡§µ‡•á‡§Ç‡§ü ‡§≤‡§ø‡§∏‡§®‡§∞
 videoEl.onplay = function() {
  // ‡§Ø‡§¶‡§ø ‡§™‡§π‡§≤‡•á ‡§∏‡•á ‡§µ‡•ç‡§Ø‡•Ç ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à ‡§§‡•ã ‡§π‡•Ä ‡§ï‡§æ‡§â‡§Ç‡§ü ‡§¨‡§¢‡§º‡§æ‡§è‡§Ç
  if (!hasViewed[current.id]) {
   let s = store(current.id);
   s.views++;
   save(current.id, s);
   viewsEl.innerText = s.views;
   hasViewed[current.id] = true;
   
   // ‡§´‡•Ä‡§° ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç
   setTimeout(() => {
    render(currentVideoList);
   }, 100);
  }
 };
 
 renderComments();
 player.style.display = "flex";
 document.body.style.overflow = "hidden";
 
 // ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§™‡•ç‡§≤‡•á ‡§π‡•ã‡§®‡•á ‡§™‡§∞ ‡§µ‡•ç‡§Ø‡•Ç ‡§ï‡§æ‡§â‡§Ç‡§ü ‡§¨‡§¢‡§º‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§´‡•ç‡§≤‡•à‡§ó ‡§∞‡•Ä‡§∏‡•á‡§ü
 hasViewed[current.id] = false;
}

function closePlayer() {
 videoEl.pause();
 videoEl.src = "";
 player.style.display = "none";
 document.body.style.overflow = "auto";
}

function like() {
 let s = store(current.id);
 s.likes++;
 save(current.id, s);
 likesEl.innerText = s.likes;
 
 // ‡§´‡•Ä‡§° ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç
 setTimeout(() => {
  render(currentVideoList);
 }, 100);
}

/* COMMENTS */
function renderComments() {
 commentList.innerHTML = "";
 const comments = store(current.id).comments;
 
 if (comments.length === 0) {
  commentList.innerHTML = "<div class='comment'>No comments yet. Be the first to comment!</div>";
  return;
 }
 
 comments.forEach(c => {
  const d = document.createElement("div");
  d.className = "comment";
  d.innerText = c;
  commentList.appendChild(d);
 });
}

function addComment(e) {
 if (e.key === "Enter" && e.target.value.trim()) {
  let s = store(current.id);
  s.comments.push(e.target.value);
  save(current.id, s);
  e.target.value = "";
  renderComments();
 }
}

/* CHANNEL POPUP */
function openChannels() {
 document.getElementById("channelPopup").classList.add("active");
}

function closeChannels() {
 document.getElementById("channelPopup").classList.remove("active");
}

/* CHANNEL LIST */
const channelList = document.getElementById("channelList");

// ‡§Ø‡•Ç‡§®‡§ø‡§ï ‡§ö‡•à‡§®‡§≤‡•ç‡§∏ ‡§ï‡•Ä ‡§≤‡§ø‡§∏‡•ç‡§ü ‡§¨‡§®‡§æ‡§è‡§Ç
const uniqueChannels = [...new Set(videos.map(v => v.channel))];

// "All Channels" ‡§ë‡§™‡•ç‡§∂‡§® ‡§ú‡•ã‡§°‡§º‡•á‡§Ç
const allChannelsDiv = document.createElement("div");
allChannelsDiv.className = "channel-item";
allChannelsDiv.innerHTML = `<img src="https://images.unsplash.com/photo-1593085512500-5d55148d6f0d?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80"><div>All Channels</div>`;
allChannelsDiv.onclick = () => {
 render(videos);
 closeChannels();
};
channelList.appendChild(allChannelsDiv);

// ‡§¨‡§æ‡§ï‡•Ä ‡§ö‡•à‡§®‡§≤‡•ç‡§∏ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç
uniqueChannels.forEach(name => {
 const v = videos.find(x => x.channel === name);
 const d = document.createElement("div");
 d.className = "channel-item";
 d.innerHTML = `<img src="${v.icon}"><div>${name}</div>`;
 d.onclick = () => {
  // ‡§°‡•Å‡§™‡•ç‡§≤‡•Ä‡§ï‡•á‡§ü ‡§∏‡•á ‡§¨‡§ö‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§´‡§º‡§ø‡§≤‡•ç‡§ü‡§∞ ‡§ï‡§∞‡•á‡§Ç
  const filteredVideos = videos.filter(x => x.channel === name);
  render(filteredVideos);
  closeChannels();
 };
 channelList.appendChild(d);
});

/* HOME & REFRESH */
function showAll() {
 render(videos);
}

function refreshHome() {
 // ‡§≤‡•ã‡§°‡§ø‡§Ç‡§ó ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Ç
 loading.classList.add('active');
 
 // ‡§µ‡•ç‡§Ø‡•Ç ‡§ï‡§æ‡§â‡§Ç‡§ü ‡§´‡•ç‡§≤‡•à‡§ó ‡§∞‡•Ä‡§∏‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç
 hasViewed = {};
 
 // ‡§•‡•ã‡§°‡§º‡•Ä ‡§¶‡•á‡§∞ ‡§¨‡§æ‡§¶ ‡§∞‡•Ä‡§´‡•ç‡§∞‡•á‡§∂ ‡§ï‡§∞‡•á‡§Ç
 setTimeout(() => {
  render(videos);
  loading.classList.remove('active');
 }, 800);
}

/* WINDOW RESIZE ‡§ï‡•á ‡§≤‡§ø‡§è */
window.addEventListener('resize', function() {
 // ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§® ‡§∏‡§æ‡§á‡§ú ‡§¨‡§¶‡§≤‡§®‡•á ‡§™‡§∞ ‡§∞‡•Ä-‡§∞‡•á‡§Ç‡§°‡§∞ ‡§ï‡§∞‡•á‡§Ç
 render(currentVideoList);
});

// ‡§™‡•á‡§ú ‡§≤‡•ã‡§° ‡§π‡•ã‡§§‡•á ‡§π‡•Ä ‡§∞‡•á‡§Ç‡§°‡§∞ ‡§ï‡§∞‡•á‡§Ç
render(videos);
</script>

</body>
</html>
